"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[7330],{47330:(C,g,a)=>{a.r(g),a.d(g,{DocPoHttpRequestInterceptorModule:()=>m});var F=a(35915),p=a(51188),e=a(54438),i=a(4135),E=a(60177),q=a(17458),P=a(21626),b=a(84341);class r{http;httpRequestInterceptor;countPendingRequestHeaderParam=!1;screenLockHeaderParam=!1;pendingRequests=0;url="";subscription;apiSubscription;constructor(o,t){this.http=o,this.httpRequestInterceptor=t}ngOnDestroy(){this.subscription.unsubscribe(),this.apiSubscription&&this.apiSubscription.unsubscribe()}ngOnInit(){this.subscription=this.httpRequestInterceptor.getCountPendingRequests().subscribe(o=>{this.pendingRequests=o})}getRequest(){const o={"X-PO-No-Count-Pending-Requests":this.countPendingRequestHeaderParam.toString(),"X-PO-Screen-Lock":this.screenLockHeaderParam.toString()};this.apiSubscription=this.http.get(this.url,{headers:o}).subscribe(()=>{})}static \u0275fac=function(t){return new(t||r)(e.rXU(P.Qq),e.rXU(i.Him))};static \u0275cmp=e.VBU({type:r,selectors:[["sample-po-http-request-interceptor-labs"]],decls:9,vars:5,consts:[[1,"po-row"],["p-label","Pending Requests",1,"po-lg-12",3,"p-value"],["name","url","p-help","https://po-sample-api.onrender.com/v1/people","p-label","URL","p-required","",1,"po-lg-6",3,"ngModel","ngModelChange"],["name","countPendingRequestHeaderParam","p-help","Enable/disable the sent param in header of request","p-label","X-PO-No-Count-Pending-Requests","p-label-off","Disable","p-label-on","Enable","ngDefaultControl","",1,"po-lg-6",3,"ngModel","ngModelChange"],["name","screenLockHeaderParam","p-help","Enable/disable the sent param in header of request","p-label","X-PO-Screen-Lock","p-label-off","Disable","p-label-on","Enable","ngDefaultControl","",1,"po-lg-6",3,"ngModel","ngModelChange"],["p-label","Get request",1,"po-md-4",3,"p-disabled","p-click"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.nrm(1,"po-info",1),e.k0s(),e.j41(2,"div",0)(3,"po-input",2),e.mxI("ngModelChange",function(s){return e.DH7(n.url,s)||(n.url=s),s}),e.k0s()(),e.j41(4,"div",0)(5,"po-switch",3),e.mxI("ngModelChange",function(s){return e.DH7(n.countPendingRequestHeaderParam,s)||(n.countPendingRequestHeaderParam=s),s}),e.k0s(),e.j41(6,"po-switch",4),e.mxI("ngModelChange",function(s){return e.DH7(n.screenLockHeaderParam,s)||(n.screenLockHeaderParam=s),s}),e.k0s()(),e.j41(7,"div",0)(8,"po-button",5),e.bIt("p-click",function(){return n.getRequest()}),e.k0s()()),2&t&&(e.R7$(),e.Y8G("p-value",n.pendingRequests),e.R7$(2),e.R50("ngModel",n.url),e.R7$(2),e.R50("ngModel",n.countPendingRequestHeaderParam),e.R7$(),e.R50("ngModel",n.screenLockHeaderParam),e.R7$(2),e.Y8G("p-disabled",!n.url))},dependencies:[b.me,b.BC,b.vS,i.rmE,i.hdu,i.rOH,i.Xa0],encapsulation:2})}const v=f=>({"docs-sample-code-tabs":f});class c{hideSampleCodeTabs=!0;sampleCodeButtonLabel="Talk is cheap, show me the code!";sampleCodeButtonIcon="po-icon po-icon-plus";toggleSampleCodeTabs(){this.hideSampleCodeTabs=!this.hideSampleCodeTabs,this.sampleCodeButtonLabel=this.hideSampleCodeTabs?"Talk is cheap, show me the code!":"Okay, hide the code",this.sampleCodeButtonIcon=this.hideSampleCodeTabs?"po-icon-plus":"po-icon-minus"}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=e.VBU({type:c,selectors:[["sample-po-http-request-interceptor-labs-view"]],decls:24,vars:6,consts:[[1,"sample-blockquote"],[1,"sample-title","po-font-text-large-bold"],[1,"show-me-the-code",3,"click"],[3,"ngClass"],["p-size","2"],["p-label","HTML","p-active",""],[1,"doc-label-path"],["appCodeHighlight","",1,"html"],["p-label","TS"],["appCodeHighlight","",1,"typescript"],[1,"docs-sample-container"]],template:function(t,n){1&t&&(e.nrm(0,"br"),e.j41(1,"blockquote",0)(2,"label",1),e.EFF(3,"PO Http Request Interceptor Labs"),e.k0s(),e.j41(4,"a",2),e.bIt("click",function(){return n.toggleSampleCodeTabs()}),e.nrm(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"div",3)(8,"po-tabs",4)(9,"po-tab",5)(10,"div")(11,"label",6),e.EFF(12,"sample-po-http-request-interceptor-labs.component.html"),e.k0s(),e.j41(13,"pre",7),e.EFF(14,'<div class="po-row">\n  <po-info class="po-lg-12" p-label="Pending Requests" [p-value]="pendingRequests"> </po-info>\n</div>\n\n<div class="po-row">\n  <po-input\n    class="po-lg-6"\n    name="url"\n    [(ngModel)]="url"\n    p-help="https://po-sample-api.onrender.com/v1/people"\n    p-label="URL"\n    p-required\n  >\n  </po-input>\n</div>\n\n<div class="po-row">\n  <po-switch\n    class="po-lg-6"\n    name="countPendingRequestHeaderParam"\n    [(ngModel)]="countPendingRequestHeaderParam"\n    p-help="Enable/disable the sent param in header of request"\n    p-label="X-PO-No-Count-Pending-Requests"\n    p-label-off="Disable"\n    p-label-on="Enable"\n    ngDefaultControl\n  >\n  </po-switch>\n\n  <po-switch\n    class="po-lg-6"\n    name="screenLockHeaderParam"\n    [(ngModel)]="screenLockHeaderParam"\n    p-help="Enable/disable the sent param in header of request"\n    p-label="X-PO-Screen-Lock"\n    p-label-off="Disable"\n    p-label-on="Enable"\n    ngDefaultControl\n  >\n  </po-switch>\n</div>\n\n<div class="po-row">\n  <po-button class="po-md-4" p-label="Get request" [p-disabled]="!url" (p-click)="getRequest()"> </po-button>\n</div>\n'),e.k0s()()(),e.j41(15,"po-tab",8)(16,"div")(17,"label",6),e.EFF(18,"sample-po-http-request-interceptor-labs.component.ts"),e.k0s(),e.j41(19,"pre",9),e.EFF(20,"import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Subscription } from 'rxjs';\n\nimport { PoHttpRequestInterceptorService } from '@po-ui/ng-components';\n\n@Component({\n  selector: 'sample-po-http-request-interceptor-labs',\n  templateUrl: './sample-po-http-request-interceptor-labs.component.html'\n})\nexport class SamplePoHttpRequestInterceptorLabsComponent implements OnInit, OnDestroy {\n  countPendingRequestHeaderParam = false;\n  screenLockHeaderParam = false;\n\n  pendingRequests: number = 0;\n  url: string = '';\n\n  private subscription: Subscription;\n  private apiSubscription: Subscription;\n\n  constructor(\n    private http: HttpClient,\n    private httpRequestInterceptor: PoHttpRequestInterceptorService\n  ) {}\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n\n    if (this.apiSubscription) {\n      this.apiSubscription.unsubscribe();\n    }\n  }\n\n  ngOnInit(): void {\n    this.subscription = this.httpRequestInterceptor.getCountPendingRequests().subscribe(data => {\n      this.pendingRequests = data;\n    });\n  }\n\n  getRequest() {\n    const headers = {\n      'X-PO-No-Count-Pending-Requests': this.countPendingRequestHeaderParam.toString(),\n      'X-PO-Screen-Lock': this.screenLockHeaderParam.toString()\n    };\n\n    this.apiSubscription = this.http.get(this.url, { headers: headers }).subscribe(() => {});\n  }\n}\n"),e.k0s()()()()(),e.j41(21,"div",10),e.nrm(22,"sample-po-http-request-interceptor-labs"),e.k0s(),e.nrm(23,"hr")),2&t&&(e.R7$(5),e.HbH("po-icon "+n.sampleCodeButtonIcon),e.R7$(),e.SpI(" ",n.sampleCodeButtonLabel,""),e.R7$(),e.Y8G("ngClass",e.eq3(4,v,n.hideSampleCodeTabs)))},dependencies:[E.YU,q.N,i.OX9,i.pxt,r],encapsulation:2})}class u{static \u0275fac=function(t){return new(t||u)};static \u0275cmp=e.VBU({type:u,selectors:[["sample-po-http-request-interceptor-doc"]],decls:67,vars:0,consts:[[1,"docs-api"],[1,"docs-api-module-import"],[1,"docs-api-class-description"],[1,"docs-api-h3"],[1,"docs-api-class-name"],[1,"doc-code"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"p",1)(2,"code"),e.EFF(3,"import { PoHttpRequestModule } from '@po-ui/ng-components';"),e.k0s()(),e.nrm(4,"div",2),e.j41(5,"h3",3),e.EFF(6,"Services"),e.k0s(),e.j41(7,"h4",4)(8,"code",5),e.EFF(9,"PoHttpRequestInterceptorService"),e.k0s()(),e.j41(10,"div",2)(11,"p"),e.EFF(12,"O servi\xe7o PO Http Request Interceptor realiza a contabiliza\xe7\xe3o de requisi\xe7\xf5es pendentes na aplica\xe7\xe3o."),e.k0s(),e.j41(13,"p"),e.EFF(14,"Existe a possibilidade de n\xe3o efetuar a contabiliza\xe7\xe3o das requisi\xe7\xf5es pendentes, utilizando o par\xe2metro\n"),e.j41(15,"code"),e.EFF(16,"X-PO-No-Count-Pending-Requests"),e.k0s(),e.EFF(17,". Para isso deve ser informado no cabe\xe7alho da requisi\xe7\xe3o com o valor "),e.j41(18,"code"),e.EFF(19,"'true'"),e.k0s(),e.EFF(20,",\npor exemplo:"),e.k0s(),e.j41(21,"pre")(22,"code"),e.EFF(23,"...\n const headers = { 'X-PO-No-Count-Pending-Requests': 'true' };\n\n this.http.get(`/customers/1`, { headers: headers });\n...\n"),e.k0s()(),e.j41(24,"p"),e.EFF(25,"Para obter a quantidade de requisi\xe7\xf5es pendentes, deve inscrever-se no m\xe9todo "),e.j41(26,"code"),e.EFF(27,"getCountPendingRequests"),e.k0s(),e.EFF(28," do\nservi\xe7o "),e.j41(29,"code"),e.EFF(30,"PoHttpRequestInterceptorService"),e.k0s(),e.EFF(31,", com isso, ao realizar requisi\xe7\xf5es utilizando "),e.j41(32,"code"),e.EFF(33,"HttpClient"),e.k0s(),e.EFF(34,",\nser\xe1 retornado a quantidade de requisi\xe7\xf5es pendentes."),e.k0s(),e.j41(35,"p"),e.EFF(36,"Tamb\xe9m existe a possibildade de travar a tela e mostrar uma imagem de "),e.j41(37,"em"),e.EFF(38,"loading"),e.k0s(),e.EFF(39," durante o processamento de uma requisi\xe7\xe3o\ndeve-se passar o par\xe2metro "),e.j41(40,"code"),e.EFF(41,"X-PO-Screen-Lock"),e.k0s(),e.EFF(42," no cabe\xe7alho da requisi\xe7\xe3o com valor "),e.j41(43,"code"),e.EFF(44,"'true'"),e.k0s(),e.EFF(45,"."),e.k0s(),e.j41(46,"p"),e.EFF(47,"por exemplo:"),e.k0s(),e.j41(48,"pre")(49,"code"),e.EFF(50,"...\n const headers = { 'X-PO-Screen-Lock': 'true' };\n\n this.http.get(`/customers/1`, { headers: headers });\n...\n"),e.k0s()(),e.j41(51,"blockquote")(52,"p"),e.EFF(53,"Ap\xf3s a valida\xe7\xe3o no interceptor, o par\xe2metro ser\xe1 removido do cabe\xe7alho da requisi\xe7\xe3o."),e.k0s()(),e.j41(54,"p"),e.EFF(55,"Ao importar o m\xf3dulo "),e.j41(56,"code"),e.EFF(57,"PoModule"),e.k0s(),e.EFF(58," na aplica\xe7\xe3o, o "),e.j41(59,"code"),e.EFF(60,"po-http-request-interceptor"),e.k0s(),e.EFF(61," \xe9 automaticamente configurado sem a necessidade\nde qualquer configura\xe7\xe3o extra."),e.k0s(),e.j41(62,"p"),e.EFF(63,"Segue abaixo um exemplo de uso:"),e.k0s(),e.j41(64,"pre")(65,"code"),e.EFF(66,"import { HttpClient } from '@angular/common/http';\n\n...\n\n@Injectable()\nexport class CustomersService {\n\n headers = { 'X-PO-No-Count-Pending-Requests': true, 'X-PO-Screen-Lock': 'true' }\n pendingRequests: number = 0;\n subscription: Subscription;\n\n constructor(\n   private http: HttpClient,\n   private httpRequestInterceptor: PoHttpRequestInterceptorService) { }\n\n ngOnDestroy(): void {\n   this.subscription.unsubscribe();\n }\n\n ngOnInit(): void {\n   this.subscription = this.httpRequestInterceptor.getCountPendingRequests().subscribe(data => {\n     this.pendingRequests = data;\n   });\n }\n\n getCustomers() {\n   return this.http.get(`/customers/1`, { headers: headers });\n }\n\n ...\n\n}\n"),e.k0s()()()())},encapsulation:2})}class l{route;router;sub;hidePoWebSample=!0;samplesLength=1;activeTab="\x1cdoc";actions=[{label:"Documenta\xe7\xe3o",action:this.goBack.bind(this),icon:"po-icon-document-filled"},{label:"Colabore",action:this.improveDocs.bind(this)}];constructor(o,t){this.route=o,this.router=t}goBack(){this.router.navigate(["documentation"])}improveDocs(){this.router.navigate(["guides/development-flow"])}ngOnInit(){this.sub=this.route.queryParams.subscribe(o=>{const t=o.view;this.activeTab=t||"doc",this.hidePoWebSample=0===this.samplesLength})}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(t){return new(t||l)(e.rXU(p.nX),e.rXU(p.Ix))};static \u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:6,vars:4,consts:[["p-title"," Http Request Interceptor",3,"p-actions"],["p-size","1"],["p-label","Documenta\xe7\xe3o",3,"p-active"],["p-label","Exemplos",3,"p-hide","p-active"]],template:function(t,n){1&t&&(e.j41(0,"po-page-default",0)(1,"po-tabs",1)(2,"po-tab",2),e.nrm(3,"sample-po-http-request-interceptor-doc"),e.k0s(),e.j41(4,"po-tab",3),e.nrm(5,"sample-po-http-request-interceptor-labs-view"),e.k0s()()()),2&t&&(e.Y8G("p-actions",n.actions),e.R7$(2),e.Y8G("p-active",n.activeTab.includes("doc")),e.R7$(2),e.Y8G("p-hide",n.hidePoWebSample)("p-active",n.activeTab.includes("web")))},dependencies:[i.$kB,i.OX9,i.pxt,c,u],encapsulation:2})}const R=[{path:"",component:l}];class d{static \u0275fac=function(t){return new(t||d)};static \u0275mod=e.$C({type:d});static \u0275inj=e.G2t({imports:[p.iI.forChild(R),p.iI]})}class m{static \u0275fac=function(t){return new(t||m)};static \u0275mod=e.$C({type:m});static \u0275inj=e.G2t({imports:[F.G,d]})}}}]);